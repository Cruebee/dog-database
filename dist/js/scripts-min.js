var pokemonRepository=function(){var t=[],o="https://pokeapi.co/api/v2/pokemon/?limit=50",n=$(".pokemon-list");function e(t,o,n,e){$(".modal-title").text(o),$(".modal-body").empty().append("<p>Height: "+n+"</p>").append("<p>Types: "+e+"</p>").append('<img src="'+t+'"></img>')}function i(t){pokemonRepository.loadDetails(t).then(function(){e(t.imageUrl,t.name,t.height,t.types)})}function a(o){t.push(o)}return{add:a,getAll:function(){return t},addListItem:function(t){var o=$('<li class="list-group-item list-group-item-action"></li>'),e=$('<button id="showPokeModal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#pokeModalLong">'+t.name+"</button>");o.append(e),n.append(o),e.on("click",function(){i(t)})},loadList:function(){return $.ajax(o,{dataType:"json"}).then(function(t){return t}).then(function(t){t.results.forEach(function(t){a({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var o=t.detailsUrl;return $.ajax(o,{dataType:"json"}).then(function(t){return t}).then(function(o){t.imageUrl=o.sprites.front_default,t.height=o.height,t.types=o.types.map(function(t){return t.type.name})}).catch(function(t){console.error(t)})},showDetails:i,showModalDetails:e}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),$(document).ready(function(){$("#pokemon-search").on("keyup",function(){var t=$(this).val().toLowerCase();$("#pokeSearchDiv *").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})});
